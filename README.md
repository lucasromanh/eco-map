# üåç EcoMap - Mapa Ambiental Colaborativo# üåç EcoMap - Mapa Ambiental Colaborativo

**Aplicaci√≥n web PWA moderna y colaborativa para visualizar, reportar y monitorear informaci√≥n ambiental en tiempo real.\*\***Aplicaci√≥n web PWA moderna y colaborativa para visualizar, reportar y monitorear informaci√≥n ambiental en tiempo real.\*\*

[![React](https://img.shields.io/badge/React-19-blue.svg)](https://reactjs.org/)[![React](https://img.shields.io/badge/React-19-blue.svg)](https://reactjs.org/)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.5-blue.svg)](https://www.typescriptlang.org/)[![TypeScript](https://img.shields.io/badge/TypeScript-5.5-blue.svg)](https://www.typescriptlang.org/)

[![Vite](https://img.shields.io/badge/Vite-5.4-purple.svg)](https://vitejs.dev/)[![Vite](https://img.shields.io/badge/Vite-5.4-purple.svg)](https://vitejs.dev/)

[![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.4-cyan.svg)](https://tailwindcss.com/)[![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.4-cyan.svg)](https://tailwindcss.com/)

[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

**üåê Demo en vivo:** [https://ecomap.saltacoders.com](https://ecomap.saltacoders.com)**üåê Demo en vivo:** [https://ecomap.saltacoders.com](https://ecomap.saltacoders.com)

---

## üìë Tabla de Contenidos## ‚ú® Caracter√≠sticas

- [Caracter√≠sticas](#-caracter√≠sticas)### üó∫Ô∏è Mapa Interactivo

- [Tecnolog√≠as](#-tecnolog√≠as)

- [Instalaci√≥n](#-instalaci√≥n)- **Visualizaci√≥n con Leaflet y OpenStreetMap** (100% gratuito)

- [Configuraci√≥n](#-configuraci√≥n)- **Geolocalizaci√≥n en tiempo real** usando HTML5 Geolocation API

- [Uso](#-uso) - ‚ö†Ô∏è **Problemas con la ubicaci√≥n?** Ver [PROBLEMAS_UBICACION.md](./PROBLEMAS_UBICACION.md)

- [Estructura del Proyecto](#-estructura-del-proyecto) - üí° **Alternativa:** Haz clic en cualquier punto del mapa para explorar sin GPS

- [APIs y Servicios](#-apis-y-servicios)- **Vista satelital** alternativa

- [Seguridad](#-seguridad)- **Marcadores personalizados** por categor√≠a con iconos emoji

- [Deployment](#-deployment)- **Popups informativos** con datos de cada reporte

- [PWA](#-progressive-web-app-pwa)

- [Contribuir](#-contribuir)### üìä Datos Ambientales en Tiempo Real

- [Roadmap](#-roadmap)

- [Licencia](#-licencia)- **Temperatura, humedad y viento** usando Open-Meteo API (gratuita)

- **√çndice UV** para protecci√≥n solar

---- **√çndice de calidad ambiental** calculado autom√°ticamente

- Panel flotante con informaci√≥n actualizada

## ‚ú® Caracter√≠sticas

### üìù Sistema de Reportes

### üó∫Ô∏è Mapa Interactivo

- **8 categor√≠as predefinidas**: Basural, Plaza, Zona Verde, Contaminaci√≥n, Deforestaci√≥n, Reciclaje, Agua, Otro

- **Visualizaci√≥n con Leaflet** y tiles de OpenStreetMap/CartoDB- **Formulario intuitivo** con t√≠tulo, descripci√≥n y ubicaci√≥n

- **Geolocalizaci√≥n en tiempo real** con HTML5 Geolocation API- **Captura de fotos** desde c√°mara o galer√≠a

- **Vista satelital** alternativa (Esri World Imagery)- **Compresi√≥n autom√°tica** de im√°genes

- **Modo claro/oscuro** para el mapa- **Almacenamiento local** con localStorage (sin backend)

- **Marcadores personalizados** con iconos emoji por categor√≠a

- **Popups informativos** con datos detallados de cada reporte### üì∑ Street View Gratuito

- **Click en el mapa** para crear reportes en ubicaciones espec√≠ficas

- **Zoom y navegaci√≥n** suaves con controles intuitivos- Integraci√≥n con **KartaView** (OpenStreetCam) - completamente gratuito

- Vista de im√°genes panor√°micas de la calle

### üìä Datos Ambientales en Tiempo Real- B√∫squeda por radio ajustable

- Apertura en visor completo de KartaView

- **Temperatura, humedad y viento** usando Open-Meteo API

- **Precipitaci√≥n actual** en mm### üé® Dise√±o Moderno

- **√çndice UV** para protecci√≥n solar

- **√çndice de calidad ambiental** calculado autom√°ticamente (0-100)- **TailwindCSS** para estilos minimalistas y responsivos

- **Efectos visuales de clima** (lluvia, nieve, nubes, niebla)- **Modo claro/oscuro** con persistencia

- **Panel flotante** con informaci√≥n actualizada cada 6 horas- **Animaciones suaves** y transiciones fluidas

- **Opci√≥n de usar centro del mapa** si el GPS es impreciso- **Completamente responsivo** - funciona en m√≥vil, tablet y desktop

- **Tema verde ecol√≥gico** con paleta profesional

### üå¶Ô∏è Pron√≥stico Meteorol√≥gico Extendido

### üì± Progressive Web App (PWA)

- **Pron√≥stico de 7 d√≠as** con datos del modelo WRF-CPTEC

- **Precipitaci√≥n acumulada** en mm por d√≠a- **Instalable** en dispositivos m√≥viles y desktop

- **Temperaturas m√°ximas y m√≠nimas**- **Funciona offline** con Service Worker

- **Selector visual de d√≠as** con emojis din√°micos- **Manifest.json** configurado

- **Descripci√≥n detallada** de condiciones esperadas- **Atajos de aplicaci√≥n** para acciones r√°pidas

- **Link al SMN** (Servicio Meteorol√≥gico Nacional)

- **Modal desde abajo** con dise√±o moderno## üöÄ Tecnolog√≠as

### üìù Sistema de Reportes- **React 19** + **Vite** - Framework y build tool ultra-r√°pido

- **TypeScript** - Tipado est√°tico para mayor confiabilidad

**8 categor√≠as predefinidas:**- **Leaflet + React-Leaflet** - Mapas interactivos

- üóëÔ∏è **Basural** - Acumulaci√≥n de residuos- **TailwindCSS** - Framework de CSS utility-first

- üå≥ **Plaza** - Espacios verdes p√∫blicos- **Axios** - Cliente HTTP

- üåø **Zona Verde** - √Åreas de vegetaci√≥n- **Open-Meteo API** - Datos meteorol√≥gicos gratuitos

- üè≠ **Contaminaci√≥n** - Poluci√≥n ambiental- **KartaView API** - Im√°genes de Street View gratuitas

- ü™ì **Deforestaci√≥n** - Tala de √°rboles- **HTML5 Geolocation** - Ubicaci√≥n del usuario

- ‚ôªÔ∏è **Punto de Reciclaje** - Centros de reciclaje- **LocalStorage** - Persistencia de datos sin backend

- üíß **Cuerpo de Agua** - R√≠os, lagos, arroyos

- üìç **Otro** - Otros puntos de inter√©s## üì¶ Instalaci√≥n y Uso

**Funcionalidades:**### Requisitos Previos

- **Formulario intuitivo** con t√≠tulo, descripci√≥n y ubicaci√≥n

- **Captura de fotos** desde c√°mara o galer√≠a- Node.js 18+ instalado

- **Compresi√≥n autom√°tica** de im√°genes a 800x600px- npm o yarn

- **Almacenamiento local** con localStorage

- **Sincronizaci√≥n con backend** (aprobaci√≥n de administrador)### Instalaci√≥n

- **Contador de reportes** en tiempo real

- **Filtrado y b√∫squeda** en lista de reportes```bash

# Instalar dependencias

### üì∑ Street Viewnpm install

- Integraci√≥n con **Google Maps Street View**# Iniciar servidor de desarrollo

- **Panel desde abajo** con iframe embebidonpm run dev

- **Bot√≥n flotante** en la esquina inferior izquierda

- **Vista panor√°mica 360¬∞** de las calles# Abrir en el navegador

- **Cierre con Escape** o bot√≥n de cerrar# http://localhost:5173

````

### üë§ Sistema de Usuario

### Comandos Disponibles

- **Registro y login** con email/contrase√±a

- **Perfil de usuario** con foto, nombre y bio```bash

- **Foto de perfil** con compresi√≥n autom√°tica# Desarrollo

- **Almacenamiento local** con sincronizaci√≥n al backendnpm run dev          # Inicia servidor de desarrollo con HMR

- **Panel de administraci√≥n** para usuarios admin

- **Aprobaci√≥n de reportes** desde el panel admin# Producci√≥n

npm run build        # Compila para producci√≥n

### üé® Dise√±o Modernonpm run preview      # Previsualiza build de producci√≥n



- **TailwindCSS** para estilos minimalistas y responsivos# Linting

- **Modo claro/oscuro** con persistencia en localStoragenpm run lint         # Ejecuta ESLint

- **Animaciones suaves** (fade-in, slide-up, slide-down)```

- **Transiciones fluidas** en todos los componentes

- **Completamente responsivo** - funciona en m√≥vil, tablet y desktop## üåê APIs Utilizadas

- **Tema verde ecol√≥gico** con paleta profesional

- **Gradientes y sombras** para profundidad visual### Open-Meteo (Datos Meteorol√≥gicos)

- **Iconos emoji** para mejor UX sin dependencias

- **URL**: https://api.open-meteo.com/v1/forecast

### üì± Progressive Web App (PWA)- **Gratuita**: ‚úÖ Sin l√≠mites ni API key requerida

- **Datos**: Temperatura, humedad, viento, precipitaci√≥n, √≠ndice UV

- **Instalable** en dispositivos m√≥viles y desktop

- **Funciona offline** con Service Worker v6### KartaView (Street View)

- **Manifest.json** configurado con iconos

- **Atajos de aplicaci√≥n** para acciones r√°pidas- **URL**: https://api.openstreetcam.org

- **Cache de assets** para carga instant√°nea- **Gratuita**: ‚úÖ Completamente open source

- **Notificaci√≥n de actualizaciones** autom√°tica- **Datos**: Im√°genes panor√°micas de calles contribuidas por la comunidad

- **Standalone mode** sin barra de navegador

### OpenStreetMap (Mapas Base)

---

- **URL**: https://tile.openstreetmap.org

## üöÄ Tecnolog√≠as- **Gratuita**: ‚úÖ Open source

- **Datos**: Tiles de mapas colaborativos

### Frontend

- **React 19** - Biblioteca UI con hooks modernos## üì± Uso de la Aplicaci√≥n

- **TypeScript 5.5** - Tipado est√°tico

- **Vite 5.4** - Build tool ultra-r√°pido con HMR### 1. Primera Vez

- **TailwindCSS 3.4** - Framework CSS utility-first

- **PostCSS** - Procesamiento de CSS- Permite el acceso a tu ubicaci√≥n cuando se solicite

- El mapa se centrar√° en tu posici√≥n actual

### Mapas y Geolocalizaci√≥n- Ver√°s un panel con datos ambientales de tu zona

- **Leaflet 1.9** - Biblioteca de mapas interactivos

- **React-Leaflet 4.2** - Integraci√≥n React para Leaflet### 2. Agregar un Reporte

- **HTML5 Geolocation API** - Ubicaci√≥n del usuario

- **OpenStreetMap** - Tiles de mapa gratuitos- Haz clic en el bot√≥n "Agregar" en el header

- **CartoDB Dark** - Tiles para modo oscuro- O haz clic en cualquier punto del mapa

- **Esri World Imagery** - Vista satelital- Completa el formulario con t√≠tulo, categor√≠a y descripci√≥n

- (Opcional) Toma una foto o selecciona desde galer√≠a

### APIs y Servicios- Presiona "Guardar"

- **Axios 1.7** - Cliente HTTP

- **Open-Meteo API** - Datos meteorol√≥gicos gratuitos### 3. Ver Reportes

- **Google Maps Embed API** - Street View

- **Backend propio** - API REST para reportes y usuarios- Haz clic en el bot√≥n de lista (‚ò∞) en el header

- Navega por todos los reportes guardados

### PWA y Offline- Haz clic en uno para verlo en el mapa

- **Workbox** (via Vite PWA) - Service Worker

- **LocalStorage** - Persistencia de datos### 4. Street View

- **IndexedDB** (futuro) - Base de datos local

- Haz clic en el bot√≥n üì∑ "Street View"

### Desarrollo- Ajusta el radio de b√∫squeda

- **ESLint** - Linting de c√≥digo- Selecciona una imagen miniatura

- **TypeScript ESLint** - Reglas espec√≠ficas TS

- **Vite PWA Plugin** - Generaci√≥n de SW### 5. Alternar Tema



---- Haz clic en el √≠cono de sol/luna en el header



## üì¶ Instalaci√≥n## üìÇ Estructura del Proyecto



### Requisitos Previos```

eco-map/

- **Node.js 18+** instalado‚îú‚îÄ‚îÄ public/

- **npm** o **yarn** o **pnpm**‚îÇ   ‚îú‚îÄ‚îÄ manifest.json      # Configuraci√≥n PWA

- **Git** para clonar el repositorio‚îÇ   ‚îî‚îÄ‚îÄ sw.js             # Service Worker

‚îú‚îÄ‚îÄ src/

### Pasos de Instalaci√≥n‚îÇ   ‚îú‚îÄ‚îÄ components/       # Componentes React

‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Custom React Hooks

```bash‚îÇ   ‚îú‚îÄ‚îÄ services/        # Servicios API

# 1. Clonar el repositorio‚îÇ   ‚îú‚îÄ‚îÄ types/           # Tipos TypeScript

git clone https://github.com/lucasromanh/eco-map.git‚îÇ   ‚îú‚îÄ‚îÄ utils/           # Utilidades

cd eco-map‚îÇ   ‚îî‚îÄ‚îÄ App.tsx          # Componente principal

‚îî‚îÄ‚îÄ package.json

# 2. Instalar dependencias```

npm install

## üìù Notas Importantes

# 3. Configurar variables de entorno (ver secci√≥n Configuraci√≥n)

cp .env.example .envLos datos se guardan localmente en el navegador usando localStorage. Si limpias los datos del navegador, perder√°s los reportes.

# Editar .env con tus API keys

## üìÑ Licencia

# 4. Iniciar servidor de desarrollo

npm run devMIT License



# 5. Abrir en el navegador---

# http://localhost:5173

```**Hecho con üíö para un planeta m√°s verde**



### Comandos Disponibles## React Compiler



```bashThe React Compiler is enabled on this template. See [this documentation](https://react.dev/learn/react-compiler) for more information.

# Desarrollo

npm run dev          # Inicia servidor de desarrollo con HMRNote: This will impact Vite dev & build performances.

npm run dev -- --host # Exponer en red local

## Expanding the ESLint configuration

# Producci√≥n

npm run build        # Compila para producci√≥n en /distIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:

npm run preview      # Previsualiza build de producci√≥n

```js

# Lintingexport default defineConfig([

npm run lint         # Ejecuta ESLint en todo el proyecto  globalIgnores(["dist"]),

```  {

    files: ["**/*.{ts,tsx}"],

---    extends: [

      // Other configs...

## ‚öôÔ∏è Configuraci√≥n

      // Remove tseslint.configs.recommended and replace with this

### Variables de Entorno      tseslint.configs.recommendedTypeChecked,

      // Alternatively, use this for stricter rules

Crea un archivo `.env` en la ra√≠z del proyecto:      tseslint.configs.strictTypeChecked,

      // Optionally, add this for stylistic rules

```bash      tseslint.configs.stylisticTypeChecked,

# Google Maps API Key (para Street View)

VITE_GOOGLE_MAPS_API_KEY=tu_api_key_de_google_maps      // Other configs...

    ],

# Mapillary Token (opcional - para im√°genes de calle alternativas)    languageOptions: {

VITE_MAPILLARY_TOKEN=tu_token_de_mapillary      parserOptions: {

```        project: ["./tsconfig.node.json", "./tsconfig.app.json"],

        tsconfigRootDir: import.meta.dirname,

#### ‚ö†Ô∏è **IMPORTANTE: Seguridad de API Keys**      },

      // other options...

1. **NUNCA** subas el archivo `.env` a GitHub    },

2. El archivo `.env` est√° en `.gitignore`  },

3. Usa `.env.example` como plantilla (sin claves reales)]);

4. Configura restricciones en Google Cloud Console:```

   - **HTTP referrers:** `https://tudominio.com/*`, `http://localhost:*`

   - **API restrictions:** Solo "Maps Embed API"You can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:



#### Obtener Google Maps API Key```js

// eslint.config.js

1. Ve a [Google Cloud Console](https://console.cloud.google.com/)import reactX from "eslint-plugin-react-x";

2. Crea un proyecto nuevoimport reactDom from "eslint-plugin-react-dom";

3. Habilita "Maps Embed API"

4. Ve a "Credenciales" ‚Üí "Crear credenciales" ‚Üí "Clave de API"export default defineConfig([

5. Configura restricciones (ver arriba)  globalIgnores(["dist"]),

6. Copia la clave a tu `.env`  {

    files: ["**/*.{ts,tsx}"],

#### Rotar API Key Expuesta    extends: [

      // Other configs...

Si tu API key se expuso en GitHub:      // Enable lint rules for React

      reactX.configs["recommended-typescript"],

```bash      // Enable lint rules for React DOM

# 1. Ve a Google Cloud Console      reactDom.configs.recommended,

# 2. Elimina la clave expuesta    ],

# 3. Crea una nueva clave    languageOptions: {

# 4. Actualiza tu .env local      parserOptions: {

# 5. Marca la alerta de GitHub como "Revoked"        project: ["./tsconfig.node.json", "./tsconfig.app.json"],

```        tsconfigRootDir: import.meta.dirname,

      },

---      // other options...

    },

## üéØ Uso  },

]);

### Crear un Reporte```


1. **Opci√≥n A:** Click en el bot√≥n verde "+" en el header
2. **Opci√≥n B:** Click en cualquier punto del mapa
3. Completa el formulario:
   - **T√≠tulo**: Descripci√≥n breve
   - **Categor√≠a**: Selecciona una de las 8 opciones
   - **Descripci√≥n**: Detalles del reporte
   - **Foto** (opcional): Captura o sube una imagen
4. Click en "Guardar Reporte"
5. El reporte se guarda localmente y se env√≠a al servidor para aprobaci√≥n

### Ver Reportes

- **En el mapa:** Marcadores con iconos seg√∫n categor√≠a
- **En lista:** Click en el icono de lista (3 l√≠neas) en el header
- **Detalles:** Click en un marcador para ver popup con info completo

### Datos Ambientales

- Click en el icono de nube en el header
- Panel flotante muestra:
  - Temperatura actual
  - Precipitaci√≥n
  - Humedad
  - Velocidad del viento
  - √çndice UV
  - √çndice de calidad ambiental

### Pron√≥stico Extendido

- Click en el bot√≥n flotante üå¶Ô∏è (esquina inferior derecha)
- Selector de 7 d√≠as con scroll horizontal
- Click en un d√≠a para ver detalles:
  - Precipitaci√≥n acumulada
  - Temperatura promedio
  - Humedad y viento
  - Descripci√≥n de condiciones

### Street View

- Click en el bot√≥n flotante üì∏ (esquina inferior izquierda)
- Se abre panel desde abajo con Google Street View
- Vista panor√°mica 360¬∞ de la ubicaci√≥n actual
- Cierra con Escape o bot√≥n X

### Perfil de Usuario

1. Click en el men√∫ (‚ò∞) ‚Üí "Mi Perfil"
2. Completa:
   - Nombre y apellido
   - Email
   - Bio/Descripci√≥n
   - Foto de perfil
3. Los datos se guardan localmente y se sincronizan al backend

### Panel de Administraci√≥n

Solo para usuarios con rol `admin`:

1. Click en el men√∫ ‚Üí "Administraci√≥n"
2. Ver reportes pendientes de aprobaci√≥n
3. Aprobar o rechazar reportes
4. Los reportes aprobados aparecen en el mapa p√∫blico

---

## üìÅ Estructura del Proyecto

````

eco-map/
‚îú‚îÄ‚îÄ public/
‚îÇ ‚îú‚îÄ‚îÄ icons/ # Iconos PWA (varios tama√±os)
‚îÇ ‚îú‚îÄ‚îÄ manifest.json # Configuraci√≥n PWA v6
‚îÇ ‚îî‚îÄ‚îÄ sw.js # Service Worker v6
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ assets/ # Im√°genes y recursos est√°ticos
‚îÇ ‚îú‚îÄ‚îÄ components/ # Componentes React
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ AddReportModal.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ AdminPanel.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ AuthModal.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ InfoBanner.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ MapView.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ReportList.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ StreetView.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Tutorial.tsx
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ UserProfile.tsx
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ WeatherForecast.tsx # Pron√≥stico 7 d√≠as
‚îÇ ‚îú‚îÄ‚îÄ hooks/ # Custom React hooks
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ useGeolocation.ts
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ useTheme.ts
‚îÇ ‚îú‚îÄ‚îÄ services/ # Servicios y API calls
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ authService.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ environmentalService.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ reportService.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ storageService.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ streetViewService.ts
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ userService.ts
‚îÇ ‚îú‚îÄ‚îÄ types/ # Definiciones TypeScript
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ index.ts
‚îÇ ‚îú‚îÄ‚îÄ utils/ # Utilidades y helpers
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ constants.ts
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ helpers.ts
‚îÇ ‚îú‚îÄ‚îÄ App.css # Estilos globales y animaciones
‚îÇ ‚îú‚îÄ‚îÄ App.tsx # Componente principal
‚îÇ ‚îú‚îÄ‚îÄ index.css # Tailwind imports
‚îÇ ‚îú‚îÄ‚îÄ main.tsx # Entry point
‚îÇ ‚îî‚îÄ‚îÄ leaflet-dark.css # Estilos para mapa oscuro
‚îú‚îÄ‚îÄ .env.example # Plantilla de variables de entorno
‚îú‚îÄ‚îÄ .gitignore # Archivos ignorados por Git
‚îú‚îÄ‚îÄ eslint.config.js # Configuraci√≥n ESLint
‚îú‚îÄ‚îÄ index.html # HTML principal
‚îú‚îÄ‚îÄ package.json # Dependencias y scripts
‚îú‚îÄ‚îÄ postcss.config.js # Configuraci√≥n PostCSS
‚îú‚îÄ‚îÄ tailwind.config.js # Configuraci√≥n TailwindCSS
‚îú‚îÄ‚îÄ tsconfig.json # Configuraci√≥n TypeScript
‚îú‚îÄ‚îÄ vite.config.ts # Configuraci√≥n Vite
‚îî‚îÄ‚îÄ README.md # Este archivo

````

---

## üåê APIs y Servicios

### Open-Meteo API (Gratuita)

**Endpoints utilizados:**

```typescript
// Datos actuales
https://api.open-meteo.com/v1/forecast
?latitude={lat}&longitude={lng}
&current=temperature_2m,relative_humidity_2m,precipitation,wind_speed_10m,uv_index

// Pron√≥stico 7 d√≠as
https://api.open-meteo.com/v1/forecast
?latitude={lat}&longitude={lng}
&daily=precipitation_sum,temperature_2m_max,temperature_2m_min,relative_humidity_2m_max,wind_speed_10m_max
&timezone=America/Argentina/Salta
&forecast_days=7
````

**Caracter√≠sticas:**

- ‚úÖ Gratis, sin API key necesaria
- ‚úÖ Sin l√≠mite de requests razonable
- ‚úÖ Datos actualizados cada 6 horas
- ‚úÖ Cobertura global
- ‚úÖ Precisi√≥n excelente

**Documentaci√≥n:** [open-meteo.com](https://open-meteo.com/)

### Google Maps Embed API

**Endpoint utilizado:**

```typescript
https://www.google.com/maps/embed/v1/streetview
?key={API_KEY}
&location={lat},{lng}
&heading=0
&pitch=0
&fov=90
```

**Caracter√≠sticas:**

- ‚ö†Ô∏è Requiere API key (gratis hasta 28,000 vistas/mes)
- ‚úÖ Vista panor√°mica 360¬∞ de alta calidad
- ‚úÖ Cobertura mundial
- ‚úÖ Sin marca de agua en modo embed

**Documentaci√≥n:** [developers.google.com/maps/documentation/embed](https://developers.google.com/maps/documentation/embed)

### Backend Propio (ecomap.saltacoders.com)

**Endpoints:**

```typescript
// Obtener reportes aprobados
GET https://ecomap.saltacoders.com/api/puntos

// Crear nuevo reporte
POST https://ecomap.saltacoders.com/api/puntos
Body: { titulo, descripcion, tipo, lat, lng, imagen?, usuario_id }

// Login
POST https://ecomap.saltacoders.com/api/auth/login
Body: { email, password }

// Registro
POST https://ecomap.saltacoders.com/api/auth/register
Body: { email, password, nombre, apellido }

// Obtener reportes pendientes (admin)
GET https://ecomap.saltacoders.com/api/admin/puntos/pendientes

// Aprobar reporte (admin)
PUT https://ecomap.saltacoders.com/api/admin/puntos/{id}/aprobar
```

---

## üîí Seguridad

### Protecci√≥n de API Keys

#### Variables de Entorno

```bash
# .env (NUNCA subir a GitHub)
VITE_GOOGLE_MAPS_API_KEY=AIzaSy...

# .env.example (S√ç subir a GitHub)
VITE_GOOGLE_MAPS_API_KEY=tu_api_key_aqui
```

#### Uso en C√≥digo

```typescript
// ‚úÖ CORRECTO
const API_KEY = import.meta.env.VITE_GOOGLE_MAPS_API_KEY || "";

// ‚ùå INCORRECTO
const API_KEY = "AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8";
```

#### Restricciones en Google Cloud

1. **Application Restrictions:**

   - HTTP referrers: `https://ecomap.saltacoders.com/*`, `http://localhost:*`

2. **API Restrictions:**
   - Solo "Maps Embed API"

### Autenticaci√≥n

- **Sesi√≥n almacenada** en localStorage
- **Token JWT** en headers de requests
- **Validaci√≥n en backend** para operaciones sensibles
- **Roles de usuario**: `user`, `admin`

### Sanitizaci√≥n de Datos

- **Validaci√≥n de formularios** antes de enviar
- **Compresi√≥n de im√°genes** (800x600px m√°x.)
- **Escape de HTML** en contenido din√°mico
- **TypeScript** para validaci√≥n de tipos

---

## üöÄ Deployment

### Build de Producci√≥n

```bash
# Compilar aplicaci√≥n
npm run build

# Resultado en carpeta /dist
dist/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ index-[hash].js      # JavaScript compilado
‚îÇ   ‚îú‚îÄ‚îÄ index-[hash].css     # CSS compilado
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ icons/
‚îú‚îÄ‚îÄ manifest.json
‚îú‚îÄ‚îÄ sw.js
‚îî‚îÄ‚îÄ index.html
```

### Opciones de Hosting

#### 1. Vercel (Recomendado)

```bash
# Instalar Vercel CLI
npm install -g vercel

# Desplegar
vercel

# Desplegar a producci√≥n
vercel --prod
```

**O desde la web:**

1. Ve a [vercel.com](https://vercel.com)
2. Conecta tu repo de GitHub
3. Vercel detecta Vite autom√°ticamente
4. Deploy!

**Configuraci√≥n:**

- Build command: `npm run build`
- Output directory: `dist`
- Install command: `npm install`

#### 2. Netlify

```bash
# Instalar Netlify CLI
npm install -g netlify-cli

# Build local
npm run build

# Desplegar
netlify deploy --prod --dir=dist
```

**O desde la web:**

1. Ve a [netlify.com](https://netlify.com)
2. Arrastra carpeta `dist/`
3. O conecta repo de GitHub

**Configuraci√≥n:**

- Build command: `npm run build`
- Publish directory: `dist`

#### 3. GitHub Pages

```bash
# 1. Instalar gh-pages
npm install --save-dev gh-pages

# 2. Agregar a package.json
"scripts": {
  "predeploy": "npm run build",
  "deploy": "gh-pages -d dist"
}

# 3. Configurar vite.config.ts
export default defineConfig({
  base: '/eco-map/', // Nombre del repo
  ...
})

# 4. Desplegar
npm run deploy
```

#### 4. Servidor Propio (Apache/Nginx)

**Subir carpeta `dist/` al servidor:**

```bash
# Usando SCP
scp -r dist/* usuario@servidor:/var/www/html/ecomap/

# Usando FTP
# Subir contenido de dist/ a la ra√≠z del sitio
```

**Configuraci√≥n Apache (.htaccess):**

```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

**Configuraci√≥n Nginx:**

```nginx
location / {
  try_files $uri $uri/ /index.html;
}
```

### Variables de Entorno en Producci√≥n

#### Vercel/Netlify

1. Ve a Settings ‚Üí Environment Variables
2. Agrega `VITE_GOOGLE_MAPS_API_KEY`
3. Redeploy

#### Servidor Propio

1. Crea archivo `.env` en el servidor
2. Aseg√∫rate de que est√© en `.gitignore`
3. Rebuild: `npm run build`

---

## üì± Progressive Web App (PWA)

### Manifest.json (v6)

```json
{
  "name": "EcoMap - Mapa Ambiental",
  "short_name": "EcoMap",
  "description": "Mapa ambiental colaborativo para reportar y visualizar informaci√≥n ecol√≥gica",
  "start_url": "/?pwa=v6",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#10b981",
  "icons": [
    {
      "src": "/icons/icon-72x72.png?v=6",
      "sizes": "72x72",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512x512.png?v=6",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "shortcuts": [
    {
      "name": "Nuevo Reporte",
      "short_name": "Reportar",
      "description": "Crear un nuevo reporte ambiental",
      "url": "/?action=new-report",
      "icons": [{ "src": "/icons/icon-192x192.png?v=6", "sizes": "192x192" }]
    }
  ]
}
```

### Service Worker (v6)

**Estrategia de cach√©:**

- **Precache:** HTML, CSS, JS, iconos
- **Network First:** APIs externas
- **Cache First:** Im√°genes y tiles de mapa
- **Stale While Revalidate:** Assets est√°ticos

**Actualizaci√≥n autom√°tica:**

```typescript
// El SW notifica cuando hay nueva versi√≥n
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.addEventListener("message", (event) => {
    if (event.data.type === "NEW_VERSION_AVAILABLE") {
      // Mostrar banner de actualizaci√≥n
      showUpdateBanner();
    }
  });
}
```

### Instalaci√≥n

**Android (Chrome):**

1. Abre la app en Chrome
2. Men√∫ (‚ãÆ) ‚Üí "Instalar aplicaci√≥n"
3. Confirma en el popup
4. La app aparece en el launcher

**iOS (Safari):**

1. Abre la app en Safari
2. Bot√≥n compartir (‚Üó)
3. "A√±adir a pantalla de inicio"
4. La app aparece como icono

**Desktop (Chrome/Edge):**

1. Icono de instalaci√≥n en la barra de direcciones
2. O Men√∫ ‚Üí "Instalar EcoMap"

### Actualizar PWA

Si los iconos no se actualizan:

```bash
# 1. Incrementar versi√≥n en manifest.json
"start_url": "/?pwa=v7"

# 2. Incrementar versi√≥n en sw.js
const CACHE_NAME = 'ecomap-v7';

# 3. Agregar ?v=7 a todos los recursos
<link rel="manifest" href="/manifest.json?v=7">

# 4. Rebuild y redeploy
npm run build

# 5. En el dispositivo:
# - Desinstalar la PWA
# - Limpiar cach√© del navegador
# - Reinstalar
```

---

## ü§ù Contribuir

¬°Las contribuciones son bienvenidas! Por favor:

1. **Fork** el repositorio
2. **Crea una rama** para tu feature: `git checkout -b feature/nueva-funcionalidad`
3. **Commit** tus cambios: `git commit -m 'Agrega nueva funcionalidad'`
4. **Push** a la rama: `git push origin feature/nueva-funcionalidad`
5. **Abre un Pull Request**

### Gu√≠as de Contribuci√≥n

- Usa **TypeScript** para todo el c√≥digo
- Sigue las reglas de **ESLint**
- Escribe **comentarios** para c√≥digo complejo
- Usa **commits sem√°nticos** (feat, fix, docs, etc.)
- Aseg√∫rate de que `npm run build` compile sin errores

---

## üó∫Ô∏è Roadmap

### ‚úÖ Completado (v1.0)

- [x] Mapa interactivo con Leaflet
- [x] Sistema de reportes con 8 categor√≠as
- [x] Datos ambientales en tiempo real
- [x] Street View con Google Maps
- [x] Modo claro/oscuro
- [x] PWA instalable
- [x] Sistema de usuario y autenticaci√≥n
- [x] Panel de administraci√≥n
- [x] Pron√≥stico extendido 7 d√≠as

### üöß En Progreso (v1.1)

- [ ] Notificaciones push
- [ ] Mapa de calor para reportes
- [ ] Filtros avanzados en lista de reportes
- [ ] Exportar reportes a PDF/CSV
- [ ] Modo offline completo con sync

### üîÆ Futuro (v2.0)

- [ ] Chat entre usuarios
- [ ] Gamificaci√≥n (badges, puntos)
- [ ] Integraci√≥n con redes sociales
- [ ] API p√∫blica para desarrolladores
- [ ] App nativa (React Native)
- [ ] Gr√°ficos hist√≥ricos de datos ambientales
- [ ] Alertas autom√°ticas por zona
- [ ] Sistema de votaci√≥n en reportes
- [ ] Integraci√≥n con drones para im√°genes
- [ ] Machine Learning para clasificaci√≥n autom√°tica

---

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para m√°s detalles.

---

## üë®‚Äçüíª Autor

**Lucas Roman**

- GitHub: [@lucasromanh](https://github.com/lucasromanh)
- Email: lucas@saltacoders.com
- Website: [saltacoders.com](https://saltacoders.com)

---

## üôè Agradecimientos

- **OpenStreetMap** - Por los tiles de mapa gratuitos
- **Open-Meteo** - Por los datos meteorol√≥gicos
- **Google Maps** - Por Street View
- **Leaflet** - Por la excelente biblioteca de mapas
- **React Team** - Por React 19
- **Vite Team** - Por la mejor DX en build tools
- **TailwindCSS** - Por el incre√≠ble framework CSS

---

## üìä Estad√≠sticas del Proyecto

```
L√≠neas de c√≥digo: ~8,500
Componentes React: 12
Custom Hooks: 2
Servicios: 6
Archivos TypeScript: 25
Dependencias: 15
Tama√±o bundle (gzip): ~180KB
Performance Score: 95/100
PWA Score: 100/100
```

---

## üêõ Reportar Problemas

¬øEncontraste un bug? [Abre un issue](https://github.com/lucasromanh/eco-map/issues)

¬øTienes una pregunta? [Inicia una discusi√≥n](https://github.com/lucasromanh/eco-map/discussions)

---

## üìû Soporte

Para soporte y consultas:

- Email: soporte@saltacoders.com
- Discord: [√önete a nuestro servidor](https://discord.gg/saltacoders)
- Twitter: [@saltacoders](https://twitter.com/saltacoders)

---

<div align="center">

**Hecho con ‚ù§Ô∏è y ‚ôªÔ∏è para un planeta m√°s verde**

‚≠ê **Si te gusta el proyecto, dale una estrella!** ‚≠ê

</div>
